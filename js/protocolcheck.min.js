!function(a){function b(a,b,c){return a.addEventListener?(a.addEventListener(b,c),{remove:function(){a.removeEventListener(b,c)}}):(a.attachEvent(b,c),{remove:function(){a.detachEvent(b,c)}})}function c(a,b){var c=document.createElement("iframe");return c.src=b,c.id="hiddenIframe",c.style.display="none",a.appendChild(c),c}function d(d,e,f){function j(){clearTimeout(g),i.remove(),f()}var g=setTimeout(function(){e(),i.remove()},1e3),h=document.querySelector("#hiddenIframe");h||(h=c(document.body,"about:blank"));var i=b(a,"blur",j);h.contentWindow.location.href=d}function e(c,d,e){function i(){clearTimeout(f),h.remove(),e()}for(var f=setTimeout(function(){d(),h.remove()},1e3),g=a;g!=g.parent;)g=g.parent;var h=b(g,"blur",i);a.location=c}function f(a,b,d){var e=document.querySelector("#hiddenIframe");e||(e=c(document.body,"about:blank"));try{e.contentWindow.location.href=a,d()}catch(a){"NS_ERROR_UNKNOWN_PROTOCOL"==a.name&&b()}}function g(a,b,c){10===l()?h(a,b,c):9===l()||11===l()?d(a,b,c):i(a,b,c)}function h(b,d,e){var f=setTimeout(d,1e3);a.addEventListener("blur",function(){clearTimeout(f),e()});var g=document.querySelector("#hiddenIframe");g||(g=c(document.body,"about:blank"));try{g.contentWindow.location.href=b}catch(a){d(),clearTimeout(f)}}function i(b,c,d){var e=a.open("","","width=0,height=0");e.document.write("<iframe src='"+b+"'></iframe>"),setTimeout(function(){try{e.location.href,e.setTimeout("window.close()",1e3),d()}catch(a){e.close(),c()}},1e3)}function j(a,b,c){navigator.msLaunchUri(a,c,b)}function k(){var b=!!a.opera||navigator.userAgent.indexOf(" OPR/")>=0;return{isOpera:b,isFirefox:"undefined"!=typeof InstallTrigger,isSafari:Object.prototype.toString.call(a.HTMLElement).indexOf("Constructor")>0,isChrome:!!a.chrome&&!b,isIE:!!document.documentMode}}function l(){var a=-1;if("Microsoft Internet Explorer"===navigator.appName){var b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}else if("Netscape"===navigator.appName){var b=navigator.userAgent,c=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=c.exec(b)&&(a=parseFloat(RegExp.$1))}return a}a.protocolCheck=function(a,b,c){function d(){b&&b()}function h(){c&&c()}if(navigator.msLaunchUri)j(a,b,c);else{var i=k();i.isFirefox?f(a,d,h):i.isChrome?e(a,d,h):i.isIE&&g(a,d,h)}}}(window);